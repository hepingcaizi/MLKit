// Author: https://github.com/sdk250

{
	"log": {
		"access": {
			"type": "File",
			"path": "/data/local/tmp/v2ray_run.log",
			"level": "Error"
		},
		"error": {
			"type": "File",
			"path": "/data/local/tmp/v2ray_error.log",
			"level": "Error"
		}
	},
	"dns": {
		"tag": "dns",
		"nameServer": [{
			"address": {
				"address": "localhost"
			}
		}],
		"queryStrategy": "USE_IP4"
	},
	"inbounds": [{
		"tag": "global-in0",
		"protocol": "socks",
		"settings": {
			"udpEnabled": true
		},
		"port": 10800,
		"listen": "127.0.0.1",
		"sniffing": {
			"enabled": false,
			"destOverride": ["http", "tls"]
		}
		// "streamSettings": {}
	}],
	"outbounds": [
		{
			"tag": "global-out0",
			"protocol": "vmess",
			"settings": {
				"address": "jp5g.jeidian.xyz",
				"port": 80,
				"uuid": "5fab26ff-5f88-4d65-b4ac-76451c268021"
			},
			"streamSettings": {
				"transport": "ws",
				"transportSettings": {
					"path": "/",
					"header": [{
						"key": "Host",
						"value": "dm.toutiao.com"
					}]
				},
				"security": "none",
				"securitySettings": {}
			}
		}, {
			"tag": "cn-out0",
			"protocol": "vmess",
			"settings": {
				"address": "sc.jeidian.xyz",
				"port": 80,
				"uuid": "5fab26ff-5f88-4d65-b4ac-76451c268021"
			},
			"streamSettings": {
				"transport": "ws",
				"transportSettings": {
					"path": "/",
					"header": [{
						"key": "Host",
						"value": "dm.toutiao.com"
					}]
				},
				"security": "none",
				"securitySettings": {}
			}
		}, {
			"tag": "cn-out1",
			"protocol": "http",
			"settings": {
				"address": "127.0.0.1",
				"port": 65080
			}
		}, {
			"protocol": "freedom",
			"settings": {},
			"tag": "direct"
		}, {
			"protocol": "blackhole",
			"settings": {},
			"tag": "blocked0"
		}, {
			"protocol": "dns",
			"tag": "dns-out"
		}
	],
	"router": {
		"domainStrategy": "IpIfNonMatch",
		"rule": [
			{
				"tag": "direct",
				"inboundTag": ["global-in0"],
				"networks": ["tcp", "udp"],
				"geoip": [{
					"code": "private",
					"filePath": "geoip.dat"
				}]
			}, {
				"balancingTag": "cn-balancer",
				"inboundTag": ["global-in0"],
				"networks": ["tcp"],
				"geoip": [{
					// "cidr": [{
						// "ipAddr": "114.132.191.12",
						// "prefix": 20
					// }]
					"code": "cn",
					"filePath": "geoip.dat"
				}]
			}, {
				"balancingTag": "cn-balancer",
				"inboundTag": ["global-in0"],
				"networks": ["tcp"],
				"geoDomain": [{
					"code": "geolocation-cn",
					"filePath": "geosite.dat"
				}]
			}, {
				"balancingTag": "global-balancer",
				"inboundTag": ["global-in0"],
				"networks": ["tcp", "udp"],
				"geoip": [{
					"inverseMatch": true,
					"code": "cn",
					"filePath": "geoip.dat"
				}]
			}, {
				"balancingTag": "global-balancer",
				"inboundTag": ["global-in0"],
				"networks": ["tcp", "udp"],
				"geoDomain": [{
					"code": "geolocation-!cn",
					"filePath": "geosite.dat"
				}]
			}
		],
		"balancingRule": [{
			"tag": "cn-balancer",
			"outbound_selector": ["cn-out"],
			"strategy": "random"
		}, {
			"tag": "global-balancer",
			"outbound_selector": ["global-out"],
			"strategy": "random"
		}]
	}
	// "services": {}
}